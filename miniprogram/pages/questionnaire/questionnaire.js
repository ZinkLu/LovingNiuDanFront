"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var questionnaireModel_1 = require("./questionnaireModel");
var _today = new Date();
var today_string = _today.getFullYear() + "-" + (_today.getMonth() + 1) + "-" + _today.getDate();
function checkInputs(userInfo) {
    if (userInfo.gender) {
        return true;
    }
    return true;
}
Page({
    data: {
        userInfo: new questionnaireModel_1.UserInfo(),
        submitted: false,
        today: today_string,
    },
    onLoad: function (query) {
        console.log(this.data.userInfo.birthDay);
        this.setData({
            nickName: query.nickName
        });
    },
    bindDateChange: function (e) {
        var tmp = this.data.userInfo;
        tmp.birthDay = e.detail.value;
        this.setData({
            userInfo: tmp
        });
    },
    submitTable: function (e) {
        console.info(e);
        if (!checkInputs(this.data.userInfo)) {
        }
        wx.request({
            url: "http://ccc.yiqipinba.xyz:5000/questionnaire",
            data: this.data.userInfo,
            dataType: "json",
            method: "POST",
            success: function (req) { console.log(req.data); },
            fail: function (req) { console.log(req.errMsg); }
        });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVlc3Rpb25uYWlyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInF1ZXN0aW9ubmFpcmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSwyREFBK0M7QUFFL0MsSUFBSSxNQUFNLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQTtBQUN2QixJQUFJLFlBQVksR0FBTSxNQUFNLENBQUMsV0FBVyxFQUFFLFVBQUksTUFBTSxDQUFDLFFBQVEsRUFBRSxHQUFHLENBQUMsVUFBSSxNQUFNLENBQUMsT0FBTyxFQUFJLENBQUE7QUFHekYsU0FBUyxXQUFXLENBQUMsUUFBa0I7SUFDckMsSUFBSSxRQUFRLENBQUMsTUFBTSxFQUFFO1FBQ25CLE9BQU8sSUFBSSxDQUFBO0tBQ1o7SUFDRCxPQUFPLElBQUksQ0FBQTtBQUNiLENBQUM7QUFHRCxJQUFJLENBQ0Y7SUFDRSxJQUFJLEVBQUU7UUFFSixRQUFRLEVBQUUsSUFBSSw2QkFBUSxFQUFFO1FBR3hCLFNBQVMsRUFBRSxLQUFLO1FBQ2hCLEtBQUssRUFBRSxZQUFZO0tBRXBCO0lBQ0QsTUFBTSxFQUFOLFVBQU8sS0FBNkI7UUFDbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQTtRQUN4QyxJQUFJLENBQUMsT0FBTyxDQUNWO1lBQ0UsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRO1NBQ3pCLENBQ0YsQ0FBQTtJQUNILENBQUM7SUFFRCxjQUFjLEVBQWQsVUFBZSxDQUFNO1FBQ25CLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFBO1FBQzVCLEdBQUcsQ0FBQyxRQUFRLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUE7UUFDN0IsSUFBSSxDQUFDLE9BQU8sQ0FDVjtZQUNFLFFBQVEsRUFBRSxHQUFHO1NBQ2QsQ0FDRixDQUFBO0lBQ0gsQ0FBQztJQUVELFdBQVcsRUFBWCxVQUFZLENBQU07UUFFaEIsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNmLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRTtTQUNyQztRQUdELEVBQUUsQ0FBQyxPQUFPLENBQ1I7WUFDRSxHQUFHLEVBQUUsNkNBQTZDO1lBQ2xELElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVE7WUFDeEIsUUFBUSxFQUFFLE1BQU07WUFDaEIsTUFBTSxFQUFFLE1BQU07WUFDZCxPQUFPLEVBQUUsVUFBQyxHQUFHLElBQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUEsQ0FBQyxDQUFDO1lBQzNDLElBQUksRUFBRSxVQUFDLEdBQUcsSUFBTyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQSxDQUFDLENBQUM7U0FDM0MsQ0FDRixDQUFBO0lBQ0gsQ0FBQztDQUVGLENBQ0YsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgVXNlckluZm8gfSBmcm9tIFwiLi9xdWVzdGlvbm5haXJlTW9kZWxcIlxuXG5sZXQgX3RvZGF5ID0gbmV3IERhdGUoKVxubGV0IHRvZGF5X3N0cmluZyA9IGAke190b2RheS5nZXRGdWxsWWVhcigpfS0ke190b2RheS5nZXRNb250aCgpICsgMX0tJHtfdG9kYXkuZ2V0RGF0ZSgpfWBcblxuXG5mdW5jdGlvbiBjaGVja0lucHV0cyh1c2VySW5mbzogVXNlckluZm8pOiBib29sZWFuIHtcbiAgaWYgKHVzZXJJbmZvLmdlbmRlcikge1xuICAgIHJldHVybiB0cnVlXG4gIH1cbiAgcmV0dXJuIHRydWVcbn1cblxuXG5QYWdlKFxuICB7XG4gICAgZGF0YToge1xuXG4gICAgICB1c2VySW5mbzogbmV3IFVzZXJJbmZvKCksXG5cbiAgICAgIC8vIGNvbnRyb2xcbiAgICAgIHN1Ym1pdHRlZDogZmFsc2UsXG4gICAgICB0b2RheTogdG9kYXlfc3RyaW5nLFxuXG4gICAgfSxcbiAgICBvbkxvYWQocXVlcnk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4pIHtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YS51c2VySW5mby5iaXJ0aERheSlcbiAgICAgIHRoaXMuc2V0RGF0YShcbiAgICAgICAge1xuICAgICAgICAgIG5pY2tOYW1lOiBxdWVyeS5uaWNrTmFtZVxuICAgICAgICB9XG4gICAgICApXG4gICAgfSxcblxuICAgIGJpbmREYXRlQ2hhbmdlKGU6IGFueSkge1xuICAgICAgbGV0IHRtcCA9IHRoaXMuZGF0YS51c2VySW5mb1xuICAgICAgdG1wLmJpcnRoRGF5ID0gZS5kZXRhaWwudmFsdWVcbiAgICAgIHRoaXMuc2V0RGF0YShcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJJbmZvOiB0bXBcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH0sXG5cbiAgICBzdWJtaXRUYWJsZShlOiBhbnkpIHtcbiAgICAgIC8vIOmqjOivgVxuICAgICAgY29uc29sZS5pbmZvKGUpXG4gICAgICBpZiAoIWNoZWNrSW5wdXRzKHRoaXMuZGF0YS51c2VySW5mbykpIHtcbiAgICAgIH1cblxuICAgICAgLy8g5Y+R6YCB6K+35rGCXG4gICAgICB3eC5yZXF1ZXN0KFxuICAgICAgICB7XG4gICAgICAgICAgdXJsOiBcImh0dHA6Ly9jY2MueWlxaXBpbmJhLnh5ejo1MDAwL3F1ZXN0aW9ubmFpcmVcIixcbiAgICAgICAgICBkYXRhOiB0aGlzLmRhdGEudXNlckluZm8sXG4gICAgICAgICAgZGF0YVR5cGU6IFwianNvblwiLFxuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICAgICAgc3VjY2VzczogKHJlcSkgPT4geyBjb25zb2xlLmxvZyhyZXEuZGF0YSkgfSxcbiAgICAgICAgICBmYWlsOiAocmVxKSA9PiB7IGNvbnNvbGUubG9nKHJlcS5lcnJNc2cpIH1cbiAgICAgICAgfVxuICAgICAgKVxuICAgIH1cblxuICB9XG4pXG5cbiJdfQ==