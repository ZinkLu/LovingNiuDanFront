"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var configs_1 = require("../../configs/configs");
var questionnaireModel_1 = require("./questionnaireModel");
var _today = new Date();
var today_string = _today.getFullYear() + "-" + (_today.getMonth() + 1) + "-" + _today.getDate();
function checkInputs(userInfo) {
    if (userInfo.gender) {
        return true;
    }
    return true;
}
Page({
    data: {
        userInfo: new questionnaireModel_1.UserInfo(),
        submitted: false,
        today: today_string,
    },
    onLoad: function (query) {
        console.log(this.data.userInfo.birthDay);
        this.setData({
            nickName: query.nickName
        });
    },
    bindDateChange: function (e) {
        var tmp = this.data.userInfo;
        tmp.birthDay = e.detail.value;
        this.setData({
            userInfo: tmp
        });
    },
    submitTable: function (e) {
        console.info(e);
        if (!checkInputs(this.data.userInfo)) {
        }
        wx.request({
            url: configs_1.config.BASE_URL + "questionnaire",
            data: this.data.userInfo,
            dataType: "json",
            method: "POST",
            success: function (req) { console.log(req.data); },
            fail: function (req) { console.log(req.errMsg); }
        });
    }
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVlc3Rpb25uYWlyZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbInF1ZXN0aW9ubmFpcmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSxpREFBOEM7QUFDOUMsMkRBQStDO0FBRS9DLElBQUksTUFBTSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUE7QUFDdkIsSUFBSSxZQUFZLEdBQU0sTUFBTSxDQUFDLFdBQVcsRUFBRSxVQUFJLE1BQU0sQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLFVBQUksTUFBTSxDQUFDLE9BQU8sRUFBSSxDQUFBO0FBR3pGLFNBQVMsV0FBVyxDQUFDLFFBQWtCO0lBQ3JDLElBQUksUUFBUSxDQUFDLE1BQU0sRUFBRTtRQUNuQixPQUFPLElBQUksQ0FBQTtLQUNaO0lBQ0QsT0FBTyxJQUFJLENBQUE7QUFDYixDQUFDO0FBR0QsSUFBSSxDQUNGO0lBQ0UsSUFBSSxFQUFFO1FBRUosUUFBUSxFQUFFLElBQUksNkJBQVEsRUFBRTtRQUd4QixTQUFTLEVBQUUsS0FBSztRQUNoQixLQUFLLEVBQUUsWUFBWTtLQUVwQjtJQUNELE1BQU0sRUFBTixVQUFPLEtBQTZCO1FBQ2xDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUE7UUFDeEMsSUFBSSxDQUFDLE9BQU8sQ0FDVjtZQUNFLFFBQVEsRUFBRSxLQUFLLENBQUMsUUFBUTtTQUN6QixDQUNGLENBQUE7SUFDSCxDQUFDO0lBRUQsY0FBYyxFQUFkLFVBQWUsQ0FBTTtRQUNuQixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQTtRQUM1QixHQUFHLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFBO1FBQzdCLElBQUksQ0FBQyxPQUFPLENBQ1Y7WUFDRSxRQUFRLEVBQUUsR0FBRztTQUNkLENBQ0YsQ0FBQTtJQUNILENBQUM7SUFFRCxXQUFXLEVBQVgsVUFBWSxDQUFNO1FBRWhCLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDZixJQUFJLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUU7U0FDckM7UUFHRCxFQUFFLENBQUMsT0FBTyxDQUNSO1lBQ0UsR0FBRyxFQUFFLGdCQUFNLENBQUMsUUFBUSxHQUFHLGVBQWU7WUFDdEMsSUFBSSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUTtZQUN4QixRQUFRLEVBQUUsTUFBTTtZQUNoQixNQUFNLEVBQUUsTUFBTTtZQUNkLE9BQU8sRUFBRSxVQUFDLEdBQUcsSUFBTyxPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQSxDQUFDLENBQUM7WUFDM0MsSUFBSSxFQUFFLFVBQUMsR0FBRyxJQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFBLENBQUMsQ0FBQztTQUMzQyxDQUNGLENBQUE7SUFDSCxDQUFDO0NBRUYsQ0FDRixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tIFwiLi4vLi4vY29uZmlncy9jb25maWdzXCJcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4vcXVlc3Rpb25uYWlyZU1vZGVsXCJcblxubGV0IF90b2RheSA9IG5ldyBEYXRlKClcbmxldCB0b2RheV9zdHJpbmcgPSBgJHtfdG9kYXkuZ2V0RnVsbFllYXIoKX0tJHtfdG9kYXkuZ2V0TW9udGgoKSArIDF9LSR7X3RvZGF5LmdldERhdGUoKX1gXG5cblxuZnVuY3Rpb24gY2hlY2tJbnB1dHModXNlckluZm86IFVzZXJJbmZvKTogYm9vbGVhbiB7XG4gIGlmICh1c2VySW5mby5nZW5kZXIpIHtcbiAgICByZXR1cm4gdHJ1ZVxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cblxuUGFnZShcbiAge1xuICAgIGRhdGE6IHtcblxuICAgICAgdXNlckluZm86IG5ldyBVc2VySW5mbygpLFxuXG4gICAgICAvLyBjb250cm9sXG4gICAgICBzdWJtaXR0ZWQ6IGZhbHNlLFxuICAgICAgdG9kYXk6IHRvZGF5X3N0cmluZyxcblxuICAgIH0sXG4gICAgb25Mb2FkKHF1ZXJ5OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+KSB7XG4gICAgICBjb25zb2xlLmxvZyh0aGlzLmRhdGEudXNlckluZm8uYmlydGhEYXkpXG4gICAgICB0aGlzLnNldERhdGEoXG4gICAgICAgIHtcbiAgICAgICAgICBuaWNrTmFtZTogcXVlcnkubmlja05hbWVcbiAgICAgICAgfVxuICAgICAgKVxuICAgIH0sXG5cbiAgICBiaW5kRGF0ZUNoYW5nZShlOiBhbnkpIHtcbiAgICAgIGxldCB0bXAgPSB0aGlzLmRhdGEudXNlckluZm9cbiAgICAgIHRtcC5iaXJ0aERheSA9IGUuZGV0YWlsLnZhbHVlXG4gICAgICB0aGlzLnNldERhdGEoXG4gICAgICAgIHtcbiAgICAgICAgICB1c2VySW5mbzogdG1wXG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9LFxuXG4gICAgc3VibWl0VGFibGUoZTogYW55KSB7XG4gICAgICAvLyDpqozor4FcbiAgICAgIGNvbnNvbGUuaW5mbyhlKVxuICAgICAgaWYgKCFjaGVja0lucHV0cyh0aGlzLmRhdGEudXNlckluZm8pKSB7XG4gICAgICB9XG5cbiAgICAgIC8vIOWPkemAgeivt+axglxuICAgICAgd3gucmVxdWVzdChcbiAgICAgICAge1xuICAgICAgICAgIHVybDogY29uZmlnLkJBU0VfVVJMICsgXCJxdWVzdGlvbm5haXJlXCIsXG4gICAgICAgICAgZGF0YTogdGhpcy5kYXRhLnVzZXJJbmZvLFxuICAgICAgICAgIGRhdGFUeXBlOiBcImpzb25cIixcbiAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgIHN1Y2Nlc3M6IChyZXEpID0+IHsgY29uc29sZS5sb2cocmVxLmRhdGEpIH0sXG4gICAgICAgICAgZmFpbDogKHJlcSkgPT4geyBjb25zb2xlLmxvZyhyZXEuZXJyTXNnKSB9XG4gICAgICAgIH1cbiAgICAgIClcbiAgICB9XG5cbiAgfVxuKVxuXG4iXX0=